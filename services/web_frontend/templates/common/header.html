<!-- templates/common/header.html -->
<header id="site-header">
  <div class="logo" id="logo-area">
    <a href="{{ url_for('index') }}" id="logo-link">
      <img src="{{ url_for('static', filename='images/logo.jpeg') }}" alt="Libra Logo" id="logo-img">
      <span id="logo-text">Libra</span>
    </a>

    {% if session.get('user') == 'libra_admin' %}
      <a href="{{ url_for('admin_page') }}" class="nav-link admin-link">관리자 페이지</a>
    {% endif %}
  </div>

  <nav id="main-nav">
    <!-- 학습환경 분석: 단일 연도 분석 (chartpage1.html) -->
    <a href="{{ url_for('chart') }}" class="nav-link">학습환경 분석</a>
    
    <!-- 발전도 분석: 다중 연도 예측 분석 (chartpage2.html) -->
    <a href="{{ url_for('prediction') }}" class="nav-link">발전도 분석</a>

    {% if session.get('user') %}
      <!-- 로그인한 사용자만 접근 가능 -->
      <a href="{{ url_for('my_service') }}" class="nav-link">마이서비스</a>
      <a href="{{ url_for('profile') }}" class="nav-link">내정보</a>
      <a href="{{ url_for('logout') }}" class="nav-link">Logout</a>
    {% else %}
      <a href="{{ url_for('login') }}" class="nav-link">Login</a>
    {% endif %}
  </nav>
</header>

<!-- 개발자용 디버깅 정보 (개발 환경에서만 표시) -->
{% if config.DEBUG and session.get('user') == 'libra_admin' %}
<div style="background: #f0f0f0; padding: 5px; font-size: 12px; border-bottom: 1px solid #ddd;">
  <strong>DEV MODE:</strong> 
  <a href="{{ url_for('chart_test') }}" style="margin-left: 10px;">차트 API 테스트</a>
  <a href="{{ url_for('prediction_old') }}" style="margin-left: 10px;">기존 예측 페이지</a>
  <span style="margin-left: 10px;">현재 사용자: {{ session.get('user', '비로그인') }}</span>
</div>
{% endif %}